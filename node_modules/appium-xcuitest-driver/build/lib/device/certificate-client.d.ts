import type { AppiumLogger } from '@appium/types';
import type { CertificateList } from '../commands/types';
/**
 * Options for installing a certificate
 */
export interface InstallCertificateOptions {
    payload: Buffer;
}
/**
 * Unified Certificate Client
 *
 * Provides a unified interface for certificate operations on iOS devices,
 * automatically handling the differences between iOS < 18 (py-ios-device)
 * and iOS 18 and above (appium-ios-remotexpc MobileConfigService).
 */
export declare class CertificateClient {
    private readonly service;
    private readonly remoteXPCConnection?;
    private readonly log;
    private constructor();
    /**
     * Create a certificate client for device
     *
     * @param udid - Device UDID
     * @param log - Appium logger instance
     * @param useRemoteXPC - Whether to use remotexpc (use isIos18OrNewer(opts) to determine)
     * @returns Certificate client instance
     */
    static create(udid: string, log: AppiumLogger, useRemoteXPC: boolean): Promise<CertificateClient>;
    /**
     * Install a certificate profile
     *
     * @param options - Installation options containing the certificate payload
     */
    installCertificate(options: InstallCertificateOptions): Promise<void>;
    /**
     * Remove a certificate profile by name
     *
     * @param name - Name of the profile to remove
     * @returns Status message ('Acknowledged' for RemoteXPC, or pyidevice output)
     */
    removeCertificate(name: string): Promise<string>;
    /**
     * List installed certificate profiles
     *
     * @returns List of installed certificates
     */
    listCertificates(): Promise<CertificateList>;
    /**
     * Close the certificate service connection and remoteXPC connection if present
     */
    close(): Promise<void>;
    /**
     * Check if this client is using RemoteXPC
     */
    private get isRemoteXPC();
    /**
     * Helper to safely execute remoteXPC operations with connection cleanup
     * @param operation - Async operation that returns service and connection
     * @param log - Logger instance
     * @returns CertificateClient on success, null on failure
     */
    private static withRemoteXpcConnection;
    /**
     * Get service as RemoteXPC MobileConfigService
     */
    private get mobileConfigService();
    /**
     * Get service as Pyidevice client
     */
    private get pyideviceClient();
}
//# sourceMappingURL=certificate-client.d.ts.map